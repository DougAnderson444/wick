---
version: 0
network:
  providers:
    - namespace: collection
      kind: GrpcUrl
      reference: https://127.0.0.1:$TEST_PORT
  schematics:
    - name: add
      instances:
        add:
          id: collection::add-item
      connections:
        - <input>[document_id] => add[document_id]
        - <input>[collection_id] => add[collection_id]
        - <input>[document] => add[document]
        - add[document_id] => <output>[document_id]
    - name: get
      instances:
        get:
          id: collection::get-item
      connections:
        - <input>[document_id] => get[document_id]
        - <input>[collection_id] => get[collection_id]
        - get[document] => <output>[document]
    - name: list
      instances:
        list:
          id: collection::list-items
      connections:
        - <input>[collection_id] => list[collection_id]
        - list[document_ids] => <output>[document_ids]
